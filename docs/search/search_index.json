{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Introduction The Typesense Operator simplifies the management of Typesense on Kubernetes. It automates the entire process of deploying Typesense clusters, aiming to streamline operations and enhance efficiency. How to Get Involved This initiative is spearheaded by Saiprasanth in collaboration with our community members, and we welcome everyone to participate.Your involvement is crucial to the success of this project. Every contribution matters, from feedback to code contributions. License Typesense operator is licensed under the Apache License Join / Contribute Now Join our Slack community!","title":"Introduction"},{"location":"#introduction","text":"The Typesense Operator simplifies the management of Typesense on Kubernetes. It automates the entire process of deploying Typesense clusters, aiming to streamline operations and enhance efficiency.","title":"Introduction"},{"location":"#how-to-get-involved","text":"This initiative is spearheaded by Saiprasanth in collaboration with our community members, and we welcome everyone to participate.Your involvement is crucial to the success of this project. Every contribution matters, from feedback to code contributions.","title":"How to Get Involved"},{"location":"#license","text":"Typesense operator is licensed under the Apache License","title":"License"},{"location":"#join-contribute-now","text":"Join our Slack community!","title":"Join / Contribute Now"},{"location":"deployment/","text":"Quickstart: Typesense Operator Installation Requirements Typesense Operator v2.0 requires Kubernetes 1.20 or later. Works on self-managed and cloud managed clusters Installation Steps For an alternative installation method, refer to the TKO Helm Charts . Set Up Kubernetes Cluster Use minikube or any other tool to create your Kubernetes cluster. Deploy Custom Resource Definition Navigate to the deployment directory cd deploy Deploy the Custom Resource Definition kubectl create -f crd.yaml -n <namespace> Deploy RBAC (Role-Based Access Control) Deploy RBAC configuration: kubectl create -f rbac.yaml -n <namespace> Create secret for apikey used by Typesense Make sure to deploy the secret in the same namespace as the operator: NOTE: do not change key apikey as it is used by operator to identify the value. kubectl create secret generic -n <namespace> typesense-apikey --from-literal=apikey=MWYyZDFlMmU2N2Rm Deploy the Latest Operator Deploy the latest Typesense Operator: kubectl create -f operator.yaml -n <namespace> Verify Operator Deployment Check if the operator pods are up and running: kubectl get pods -n <namespace> Configure Operator Once the operator is running, configure it by referring to the configuration section below. Operator Configuration Sample configuration can be found in operator-config.yaml All the configuration must be specified under spec or config Supported configurations under spec replicas : Number of replicas of typesense. default : 3 NOTE : When the number of replicas are increased the operator automatically handles the peering connection between the replicas. namespace : Namespace to be used for deployment. default : typesense image : Typesense production ready docker image. List can be found here . default : latest tag will be pulled resources : Resources for cpu and memory. default resources: requests: memory: 100Mi cpu: \"64m\" limits: memory: 256Mi cpu: \"512m\" nodeSelector : Node to which pod has to be scheduled. if not specified, it picks up the node with available resources storageClass : Provides a way to administor the storage. Create a storage class with the provider of your choice and add it to the operator config. Options available are name and size name : Name of the storageClass that the operator should consider for volume mount. size : Size of the volume to be allocated to each typesense replica. NOTE : Supports all k8s Storageclass . startupProbe : Protect slow starting containers with startup probes Options available are failureThreshold and periodSeconds NOTE : k8s startupProbe . livenessProbe : Kubernetes provides liveness probes to detect and remedy such situations. Options available are failureThreshold and periodSeconds NOTE : k8s livenessProbe . Supported configurations under config secret : Typesense authentication is done using a password which is stored as secret. Provide the name of the secret here. default : No default value env : Support for supplying environment variables to Typesense. Refer here . NOTE : Specifying these env will either add or override existing variables. default : No default value Deploying the configuration Create the operator kubectl create -f operator-config.yaml To apply any changes made to the config kubectl apply -f operator-config.yaml Monitor Cluster Creation Monitor the creation of the Typesense cluster by checking pod statuses: kubectl get pods -n <namespace> Operator metrics Operator exposes the following Prometheus metrics to periodically poll this endpoint and export the data into Prometheus Metrics Description tok_resource_create_success_total Total number of successful resource creation events by the operator tok_resource_update_success_total Total number of updates to the resource by the operator tok_resource_delete_success_total Total number of deletion events by the operator tok_version_info Idicates the operator version that is currently deployed Upgrade Before performing this upgrade process, it is recommended to Test it out in a dev environment Backup the Typesense data The process of updating TKO is simple Watch for changes in the CRD file and apply those changes Watch for changes in the RBAC file and apply those changes Apply the new operator.yaml file Once the new operator pod is up and running, re-apply the configuration of the your operator so that the changes (if any) are reflected. kubectl apply -f <your operator config file yaml> Cleanup When you want to fully remove the cluster operator and associated definitions, you can run kubectl delete -f operator-config.yaml kubectl delete -f deploy/crd.yaml kubectl delete -f deploy/operator.yaml kubectl delete -f deploy/rbac.yaml","title":"Deployment"},{"location":"deployment/#quickstart-typesense-operator-installation","text":"","title":"Quickstart: Typesense Operator Installation"},{"location":"deployment/#requirements","text":"Typesense Operator v2.0 requires Kubernetes 1.20 or later. Works on self-managed and cloud managed clusters","title":"Requirements"},{"location":"deployment/#installation-steps","text":"For an alternative installation method, refer to the TKO Helm Charts . Set Up Kubernetes Cluster Use minikube or any other tool to create your Kubernetes cluster. Deploy Custom Resource Definition Navigate to the deployment directory cd deploy Deploy the Custom Resource Definition kubectl create -f crd.yaml -n <namespace> Deploy RBAC (Role-Based Access Control) Deploy RBAC configuration: kubectl create -f rbac.yaml -n <namespace> Create secret for apikey used by Typesense Make sure to deploy the secret in the same namespace as the operator: NOTE: do not change key apikey as it is used by operator to identify the value. kubectl create secret generic -n <namespace> typesense-apikey --from-literal=apikey=MWYyZDFlMmU2N2Rm Deploy the Latest Operator Deploy the latest Typesense Operator: kubectl create -f operator.yaml -n <namespace> Verify Operator Deployment Check if the operator pods are up and running: kubectl get pods -n <namespace> Configure Operator Once the operator is running, configure it by referring to the configuration section below.","title":"Installation Steps"},{"location":"deployment/#operator-configuration","text":"Sample configuration can be found in operator-config.yaml All the configuration must be specified under spec or config Supported configurations under spec replicas : Number of replicas of typesense. default : 3 NOTE : When the number of replicas are increased the operator automatically handles the peering connection between the replicas. namespace : Namespace to be used for deployment. default : typesense image : Typesense production ready docker image. List can be found here . default : latest tag will be pulled resources : Resources for cpu and memory. default resources: requests: memory: 100Mi cpu: \"64m\" limits: memory: 256Mi cpu: \"512m\" nodeSelector : Node to which pod has to be scheduled. if not specified, it picks up the node with available resources storageClass : Provides a way to administor the storage. Create a storage class with the provider of your choice and add it to the operator config. Options available are name and size name : Name of the storageClass that the operator should consider for volume mount. size : Size of the volume to be allocated to each typesense replica. NOTE : Supports all k8s Storageclass . startupProbe : Protect slow starting containers with startup probes Options available are failureThreshold and periodSeconds NOTE : k8s startupProbe . livenessProbe : Kubernetes provides liveness probes to detect and remedy such situations. Options available are failureThreshold and periodSeconds NOTE : k8s livenessProbe . Supported configurations under config secret : Typesense authentication is done using a password which is stored as secret. Provide the name of the secret here. default : No default value env : Support for supplying environment variables to Typesense. Refer here . NOTE : Specifying these env will either add or override existing variables. default : No default value Deploying the configuration Create the operator kubectl create -f operator-config.yaml To apply any changes made to the config kubectl apply -f operator-config.yaml Monitor Cluster Creation Monitor the creation of the Typesense cluster by checking pod statuses: kubectl get pods -n <namespace>","title":"Operator Configuration"},{"location":"deployment/#operator-metrics","text":"Operator exposes the following Prometheus metrics to periodically poll this endpoint and export the data into Prometheus Metrics Description tok_resource_create_success_total Total number of successful resource creation events by the operator tok_resource_update_success_total Total number of updates to the resource by the operator tok_resource_delete_success_total Total number of deletion events by the operator tok_version_info Idicates the operator version that is currently deployed","title":"Operator metrics"},{"location":"deployment/#upgrade","text":"Before performing this upgrade process, it is recommended to Test it out in a dev environment Backup the Typesense data The process of updating TKO is simple Watch for changes in the CRD file and apply those changes Watch for changes in the RBAC file and apply those changes Apply the new operator.yaml file Once the new operator pod is up and running, re-apply the configuration of the your operator so that the changes (if any) are reflected. kubectl apply -f <your operator config file yaml>","title":"Upgrade"},{"location":"deployment/#cleanup","text":"When you want to fully remove the cluster operator and associated definitions, you can run kubectl delete -f operator-config.yaml kubectl delete -f deploy/crd.yaml kubectl delete -f deploy/operator.yaml kubectl delete -f deploy/rbac.yaml","title":"Cleanup"},{"location":"about/community/","text":"Getting help If you encounter any issues while using the operator, you can get help by Raise a Github issue Slack / Discord (coming soon) Contributing You can contribute by Opening Pull Requests Improving documentation","title":"Community"},{"location":"about/community/#getting-help","text":"If you encounter any issues while using the operator, you can get help by Raise a Github issue Slack / Discord (coming soon)","title":"Getting help"},{"location":"about/community/#contributing","text":"You can contribute by Opening Pull Requests Improving documentation","title":"Contributing"},{"location":"about/release-notes/","text":"Release Notes Maintenance team saiprasanth Version 3.2 (2025-05-03) (Stable) Docker Image: 3.2 For more information refer to Release Notes Helm support added What's New Bug fix: Applying secrets to Typesense. Recommended to upgrade to this version. Version 3.1 (2025-04-24) Docker Image: 3.1 For more information refer to Release Notes What's New Major bug fix in 3.1 Recommended to upgrade to this version. Version 3.0.1 (2025-01-22) Docker Image: 3.0.1 For more information refer to Release Notes What's New Major bug fix in 3.0 Recommended to upgrade to this version. Version 3.0 (2024-11-23) Docker Image: 3.0 For more information refer to Release Notes What's New Recommended to upgrade to 3.0.1 version due to a major bug. Upgraded Python verion from 3.9 to 3.11 Operator supports permission to acccess Kubernetes secrets Added Support for topologySpreadConstraints Version 2.3 (2024-10-24) Docker Image: 2.3 For more information refer to Release Notes What's New Dockerfile update with version freeze Exposing basic Prometheus metrics Version 2.2 (2024-10-6) Docker Image: 2.2 For more information refer to Release Notes What's New Added support for passing ENV variables to Typesense Bug fixes Node list not getting updated when replicas are added / removed Version 2.1 (2024-08-1) Docker Image: 2.1 For more information refer to Release Notes What's New Moving from cleartext password to secret as requested in this issue See the deployment section of document to understand more about secrets. Version 2.0 (2024-03-17) Docker Image: 2.0 For more information refer to Release Notes What's New Start up probe from operator config important Operator will now not delete the entire namespace. Version 1.3 (2023-12-08) Docker Image: 1.3 For more information refer to Release Notes What's New Statefulset does not support publishNotReadyAddresses option Version 1.2 (2023-11-01) Docker Image: 1.2 For more information refer to Release Notes What's New Updating the Typesense image version from custom operator-config.yaml The publishNotReadyAddresses=True is set to support headless services discovery in stateful sets Introducing liveness and startup probes. Base files updated to pull Typesense version 0.25.0 Version 1.1 (2023-07-16) Docker Image: 1.1 For more information refer to Release Notes What's New Added support for StorageClass Bug fixes Configmap creation fixed Exceptions are not bypassed. If any exceptions are raised, the operator does not create resources further. Version 1.0 (2023-06-02) Initial public release Docker Image: 1.0 For more information refer to Release Notes","title":"Release Notes"},{"location":"about/release-notes/#release-notes","text":"","title":"Release Notes"},{"location":"about/release-notes/#maintenance-team","text":"saiprasanth","title":"Maintenance team"},{"location":"about/release-notes/#version-32-2025-05-03-stable","text":"Docker Image: 3.2 For more information refer to Release Notes Helm support added","title":"Version 3.2 (2025-05-03) (Stable)"},{"location":"about/release-notes/#whats-new","text":"Bug fix: Applying secrets to Typesense. Recommended to upgrade to this version.","title":"What's New"},{"location":"about/release-notes/#version-31-2025-04-24","text":"Docker Image: 3.1 For more information refer to Release Notes","title":"Version 3.1 (2025-04-24)"},{"location":"about/release-notes/#whats-new_1","text":"Major bug fix in 3.1 Recommended to upgrade to this version.","title":"What's New"},{"location":"about/release-notes/#version-301-2025-01-22","text":"Docker Image: 3.0.1 For more information refer to Release Notes","title":"Version 3.0.1 (2025-01-22)"},{"location":"about/release-notes/#whats-new_2","text":"Major bug fix in 3.0 Recommended to upgrade to this version.","title":"What's New"},{"location":"about/release-notes/#version-30-2024-11-23","text":"Docker Image: 3.0 For more information refer to Release Notes","title":"Version 3.0 (2024-11-23)"},{"location":"about/release-notes/#whats-new_3","text":"Recommended to upgrade to 3.0.1 version due to a major bug. Upgraded Python verion from 3.9 to 3.11 Operator supports permission to acccess Kubernetes secrets Added Support for topologySpreadConstraints","title":"What's New"},{"location":"about/release-notes/#version-23-2024-10-24","text":"Docker Image: 2.3 For more information refer to Release Notes","title":"Version 2.3 (2024-10-24)"},{"location":"about/release-notes/#whats-new_4","text":"Dockerfile update with version freeze Exposing basic Prometheus metrics","title":"What's New"},{"location":"about/release-notes/#version-22-2024-10-6","text":"Docker Image: 2.2 For more information refer to Release Notes","title":"Version 2.2 (2024-10-6)"},{"location":"about/release-notes/#whats-new_5","text":"Added support for passing ENV variables to Typesense","title":"What's New"},{"location":"about/release-notes/#bug-fixes","text":"Node list not getting updated when replicas are added / removed","title":"Bug fixes"},{"location":"about/release-notes/#version-21-2024-08-1","text":"Docker Image: 2.1 For more information refer to Release Notes","title":"Version 2.1 (2024-08-1)"},{"location":"about/release-notes/#whats-new_6","text":"Moving from cleartext password to secret as requested in this issue See the deployment section of document to understand more about secrets.","title":"What's New"},{"location":"about/release-notes/#version-20-2024-03-17","text":"Docker Image: 2.0 For more information refer to Release Notes","title":"Version 2.0 (2024-03-17)"},{"location":"about/release-notes/#whats-new_7","text":"Start up probe from operator config important Operator will now not delete the entire namespace.","title":"What's New"},{"location":"about/release-notes/#version-13-2023-12-08","text":"Docker Image: 1.3 For more information refer to Release Notes","title":"Version 1.3 (2023-12-08)"},{"location":"about/release-notes/#whats-new_8","text":"Statefulset does not support publishNotReadyAddresses option","title":"What's New"},{"location":"about/release-notes/#version-12-2023-11-01","text":"Docker Image: 1.2 For more information refer to Release Notes","title":"Version 1.2 (2023-11-01)"},{"location":"about/release-notes/#whats-new_9","text":"Updating the Typesense image version from custom operator-config.yaml The publishNotReadyAddresses=True is set to support headless services discovery in stateful sets Introducing liveness and startup probes. Base files updated to pull Typesense version 0.25.0","title":"What's New"},{"location":"about/release-notes/#version-11-2023-07-16","text":"Docker Image: 1.1 For more information refer to Release Notes","title":"Version 1.1 (2023-07-16)"},{"location":"about/release-notes/#whats-new_10","text":"Added support for StorageClass","title":"What's New"},{"location":"about/release-notes/#bug-fixes_1","text":"Configmap creation fixed Exceptions are not bypassed. If any exceptions are raised, the operator does not create resources further.","title":"Bug fixes"},{"location":"about/release-notes/#version-10-2023-06-02","text":"Initial public release Docker Image: 1.0 For more information refer to Release Notes","title":"Version 1.0 (2023-06-02)"}]}